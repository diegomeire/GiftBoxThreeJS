<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title>Babylon Template</title>
        <link rel="stylesheet" type="text/css" href="Assets/image-picker.css">
        <link rel="stylesheet" type="text/css" href="Assets/customisation.css">
        <script src="https://code.jquery.com/jquery-3.0.0.min.js" type="text/javascript"></script>
        <script src="https://preview.babylonjs.com/babylon.js"></script>
        <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
        <script src="https://preview.babylonjs.com/gui/babylon.gui.min.js"></script>
        <script src="https://code.jquery.com/pep/0.4.3/pep.js"></script>
        <script src="http://code.jquery.com/jquery-latest.js"></script>
        <script src="Assets/image-picker.min.js"></script>

    </head>

   <body>
        <div id="loadingScreen" class="loadingScreen">
            <h1 class="loadingScreen">loading</h1>
       </div>
       
       <div>
        <br>    
        <h1>Gift Customisation</h1>
            
            
        <div id="left">
            <form id="gui" > 
                
            <div class="picker">
                <h3>Box Size:</h3>
              <select id="boxSize" class="image-picker show-html"  onChange="onBoxSizeChange(this.value)">
                <option selected value=0>Small Box</option>
                <option value=1>Medium Box</option>
                <option value=2>Large Box</option>
              </select>
            </div>
                
                
            <div class="picker">
                <h3>Internal Box:</h3>
              <label for="template">Box color:</label>
              <select id="internalBox" class="image-picker show-html"  onChange="onBoxInternalChange(this.value)">
                <option data-img-src="Assets/InternalBox/Image_2.jpg" selected value='Image_2.jpg'>Colour #1</option>
                <option data-img-src="Assets/InternalBox/Image_1.jpg" value='Image_1.jpg'>Colour #2</option>
                <option data-img-src="Assets/InternalBox/Image_14.png" value='Image_14.png'>Colour #3</option>
                <option data-img-src="Assets/InternalBox/Image_13.png" value='Image_13.png'>Colour #4</option>
              </select>
            </div>


            <div class="picker">
                <h3>Sleeve:</h3>
              <label for="template">Sleeve color:</label>
              <select id="sleeve" class="image-picker show-html" onChange="onBoxSleeveChange(this.value)">
                <option data-img-src="Assets/Sleeve/Image_16.png" selected value='Image_16.png'>Colour #1</option>
                <option data-img-src="Assets/Sleeve/Image_15.png" value='Image_15.png'>Colour #2</option>
                <option data-img-src="Assets/Sleeve/Image_7.jpg" value='Image_7.jpg'>Colour #3</option>
                <option data-img-src="Assets/Sleeve/Image_5.jpg" value='Image_5.jpg'>Colour #4</option>
              </select>
            </div>    
            
            <br>
                <h3>Message:</h3>
                <br>
            <textarea id="messageString" name="messageString" rows="3" cols="10" wrap="hard" maxlength="100" onInput="onTextChange(this.value)">HAPPY
BIRTHDAY
X</textarea>
            <br>


            </form>
        </div>    
           <canvas id="renderCanvas" touch-action="none"></canvas> <!-- touch-action="none" for best results from PEP -->

    </div>
       
    
    <script>
        
        window.onload = function(){
            messageText = document.getElementById( 'messageString' ).value;
            onBoxSleeveChange(document.getElementById( 'sleeve' ).value);
            onBoxInternalChange(document.getElementById( 'internalBox' ).value);
        }
        
        function onTextChange(value){
            messageText = value;
        }
        
        function onBoxSleeveChange(value){
           sleeveTexturePath = "Assets/Sleeve/" + value;
            sleeveChange();
           if (value == "Image_16.png"){
                textColor = "#e71587";
            }
            if (value == "Image_15.png"){
                textColor = "#8aff00";
            }
            if (value == "Image_7.jpg"){
                textColor = "#FF0000";
            }
            if (value == "Image_5.jpg"){
                textColor = "#e71587";
            }
        }
        
        function onBoxSizeChange(value){
            boxIndex = value;
        }

        function onBoxInternalChange(value){
            baseBoxTexturePath = "Assets/InternalBox/" + value;
            baseBoxChange();
            
            
        }
        
        

    </script>
       <script src="Assets/customisation.js"></script>
      <script type="text/javascript">

        jQuery("select.image-picker").imagepicker({
          hide_select:  false,
        });

        jQuery("select.image-picker.show-labels").imagepicker({
          hide_select:  false,
          show_label:   true,
        });

        jQuery("select.image-picker.limit_callback").imagepicker({
          limit_reached:  function(){alert('We are full!')},
          hide_select:    false
        });



      </script>
   </body>

</html>